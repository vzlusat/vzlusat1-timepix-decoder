# xray-decoder - Utility for decoding VZLUSAT-1 X-ray images

## Measurement log

  * Dosimetry 1
    * Image range: 405 to 416
    * Linux time range: 1503686482 to 1503698652
    * Human readible time range: 2017-08-25 18:41:22 to 2017-08-25 22:04:12
    * Exposure 1 s every 3 minutes, Full resolution
  * Dosimetry 2
    * Image range: 417 to 796
    * Linux time range: 1504123980 to 1504210199
    * Human readible time range: 2017-08-30 20:13:00 to 2017-08-31 20:09:59
    * Exposure 1 s every 3 minutes, Binning32+histograms
  * Dosimetry 3 (after the solar flare)
    * Image range: 813 to 993
    * Linux time range: 1504811904 to 1504901637
    * Human readible time range: 2017-09-07 19:18:24 to 2017-09-08 20:13:57
    * Exposure 1 s every 6 minutes, Fullres+Binning32+histograms
  * Dosimetry 4
    * Image range: 994 to 1388
    * Linux time range: 1504955284 to 1505043047
    * Human readible time range: 2017-09-09 11:08:04 to 2017-09-10 11:30:47
    * Exposure 1 s every 3 minutes, Binning32+histograms
  * Dosimetry 5
    * Image range: 1449 to 1772
    * Linux time range: 1505761088 to 1505847421
    * Human readible time range: 2017-09-18 18:58:08 to 2017-09-19 18:57:01
    * Exposure 1 s every 3 minutes, Binning32+histograms
  * Dosimetry 6
    * Image range: 1879 to 2477
    * Linux time range: 1506506834 to 1506628152
    * Human readible time range: 2017-09-27 10:07:14 to 2017-09-28 19:49:12
    * Exposure 1 s every 1 minutes, Binning16+histograms
  * Dosimetry 7
    * Image range: 2478 to 3318
    * Linux time range: 1506891603 to 1506973241
    * Human readible time range: 2017-10-01 21:00:03 to 2017-10-02 19:40:41
    * Exposure 1 s every 1 minutes, Binning16+histograms
  * Anomaly 1
    * Image range: 3319 to 3332
    * Linux time range: 1507031024 to 1507083894
    * Human readible time range: 2017-10-03 11:43:44 to 2017-10-04 02:24:54
  * Anomaly 2
    * Image range: 3333 to 3346
    * Linux time range: 1507286624 to 1507345186
    * Human readible time range: 2017-10-06 10:43:44 to 2017-10-07 02:59:46
  * Dosimetry 8
    * Image range: 3349 to 3734
    * Linux time range: 1507579978 to 1507664275
    * Human readible time range: 2017-10-09 20:12:58 to 2017-10-10 19:37:55
    * Exposure 1 s every 3 minutes, Binning16+histograms
  * Anomaly 3
    * Image range: 3735 to 3749
    * Linux time range: 1507674729 to 1507729925
    * Human readible time range: 2017-10-10 22:32:09 to 2017-10-11 13:52:05
  * Dosimetry 9
    * Image range: 3758 to 4240
    * Linux time range: 1508187623 to 1508267232
    * Human readible time range: 2017-10-16 21:00:23 to 2017-10-17 19:07:12
    * Exposure 1 s every 2 minutes, Binning16+histograms
  * Dosimetry 10
    * Image range: 4245 to 4786
    * Linux time range: 1508924942 to 1509010823
    * Human readible time range: 2017-10-25 09:49:02 to 2017-10-26 09:40:23
    * Exposure 0.05 s every 2 minutes, Binning16+histograms
  * Anomaly 4
    * Image range: 4787 to 4800
    * Linux time range: 1509099381 to 1509158176
    * Human readible time range: 2017-10-27 10:16:21 to 2017-10-28 02:36:16
  * Dosimetry 11
    * Image range: 4802 to 5787
    * Linux time range: 1509483785 to 1509569561
    * Human readible time range: 2017-10-31 21:03:05 to 2017-11-01 20:52:41
    * Exposure 0.05 s every 1 minute, Binning16+histograms
  * Dosimetry 12
    * Image range: 5804 to 6815
    * Linux time range: 1510085265 to 1510171578
    * Human readible time range: 2017-11-07 20:07:45 to 2017-11-08 20:06:18
    * Exposure 0.05 s every 1 minute, Binning16+histograms
  * Anomaly 5
    * Image range: 6816 to 6834
    * Linux time range: 1510266075 to 1510321435
    * Human readible time range: 2017-11-09 22:21:15 to 2017-11-10 13:43:55
  * Dosimetry 13
    * Image range: 6848 to 7735
    * Linux time range: 1510685265 to 1510771571
    * Human readible time range: 2017-11-14 18:47:45 to 2017-11-15 18:46:11
    * Exposure 0.05 s every 1 minute, Binning16+histograms
  * Anomaly 6
    * Image range: 7736 to 7777
    * Linux time range: 1510912188 to 1511093843
    * Human readible time range: 2017-11-17 09:49:48 to 2017-11-19 12:17:23
  * Dosimetry 14
    * Image range: 7778 to 8838
    * Linux time range: 1511210257 to 1511296582
    * Human readible time range: 2017-11-20 20:37:37 to 2017-11-21 20:36:22
    * Exposure 0.05 s every 1 minute, Binning16+histograms
  * Anomaly 7
    * Image range: 8839 to 8893
    * Linux time range: 1511347828 to 1511754196 
    * Human readible time range: 2017-11-22 10:50:28 to 2017-11-27 03:43:16 
  * Dosimetry 15
    * Image range: 8894 to 9760
    * Linux time range: 1511754437 to 1511998444
    * Human readible time range: 2017-11-28 23:45:22 to 2017-11-29 23:34:04
    * Exposure 0.05 s every 1 minute, Binning16+histograms
  * Dosimetry 16
    * Image range: 9767 to 10763
    * Linux time range: 1512592017 to 1512680016
    * Human readible time range: 2017-12-06 20:26:57 to 2017-12-07 20:53:36
    * Exposure 0.05 s every 1 minute, Binning16+histograms
  * Unintended dosimetry 1 - bad timing caused this to be dosimetry, should be Adrenaline
    * Image range: 10766 to 10799
    * Linux time range: 1512742672 to 1512747255
    * Human readible time range: 2017-12-08 14:17:52 to 2017-12-08 15:34:15
    * Exposure 0.05 s, uneven sampling rate, aprox period 1.5 minute
  * Dosimetry 17
    * Image range: 10835 to 11755
    * Linux time range: 1513123281 to 1513209531
    * Human readible time range: 2017-12-13 00:01:21 to 2017-12-13 23:58:51
    * Exposure 0.05 s every 1 minute, Binning16+histograms
  * Unintended dosimetry 2 - bad timing caused this to be dosimetry, should be Adrenaline
    * Image range: 11763 to 12239
    * Linux time range: 1513419442 to 1513561844
    * Human readible time range: 2017-12-16 10:17:22 to 2017-12-18 01:50:44
    * Exposure 0.05 s, uneven sampling rate, aprox period 1.5 minute
  * Dosimetry 18
    * *Missing image data*
    * Image range: 12342 to 13165
    * Linux time range: 1513858959 to 1513936765
    * Human readible time range: 2017-12-21 12:22:39 to 2017-12-22 09:59:25
    * Exposure 0.05 s every 1 minute, Binning16+histograms
  * Dosimetry 19
    * *Buggy, uneven sampling*
    * Image range: 13166 to 13484
    * Linux time range: 1514021243 to 1514098513
    * Human readible time range: 2017-12-23 09:27:23 to 2017-12-24 06:55:13
    * Exposure 0.05 s, uneven sampling, Binning16+histograms
  * Dosimetry 20
    * Image range: 13485 to 14423
    * Linux time range: 1514627473 to 1514713794
    * Human readible time range: 2017-12-30 09:51:13 to 2017-12-31 09:49:54
    * Exposure 0.05 s every 1 minute, Binning16+histograms
  * Dosimetry 21
    * *Buggy, uneven sampling*
    * Image range: 14425 to 15115
    * Linux time range: 1514969911 to 1515095928
    * Human readible time range: 2018-01-03 08:58:31 to 2018-01-04 19:58:48
    * Exposure 0.05 s every 1 minute, Binning16+histograms
  * Non-Anomaly 8
    * *Script was created with wrong TLE, thus this is not anomaly*
    * Image range: 15116 to 15131
    * Linux time range: 1515968786 to 1516023566
    * Human readible time range: 2018-01-14 22:26:26 to 2018-01-15 13:39:26
  * Dosimetry 22
    * Image range: 15132 to 16006
    * Linux time range: 1516096331 to [missing metadata for the last one]
    * Human readible time range: 2018-01-16 09:52:11 to [missing metadata for the last one]
    * Exposure 0.05 s every 1 minute, Binning16+histograms
  * Dosimetry 23
    * Image range: 16021 to 16984
    * Linux time range: 1516701071 to [missing metadata]
    * Human readible time range: 2018-01-23 09:51:11 to [missing metadata]
    * Exposure 0.05 s every 1 minute, Binning16+histograms
  * XRB co-measurement 1
    * Image range: 16992 to 16996
    * Linux time range: 1517212288 to 1517302923
    * Human readible time range: 2018-01-29 07:51:28 to 2018-01-30 09:02:03
    * Exposure 300 s, Fullres
  * Dosimetry 24
    * Image range: 16997 to 17228
    * Linux time range: 1517308305 to 1517349218
    * Human readible time range: 2018-01-30 10:31:45 to 2018-01-30 21:53:38
    * Exposure 0.05 s every 1 minute, Binning16+histograms
  * XRB co-measurement 2
    * Image range: 17268 to 17270
    * Linux time range: 1517905369 to 1517943895
    * Human readible time range: 2018-02-06 08:22:49 to 2018-02-06 19:04:55
    * Exposure 300 s, Fullres
  * Dosimetry 25
    * Image range: 17271 to 18061
    * Linux time range: 1517961104 to 1518046688
    * Human readible time range: 2018-02-06 23:51:44 to 2018-02-07 23:38:08
    * Exposure 0.05 s every 1 minute, Binning16+histograms
  * XRB co-measurement 3
    * Image range: 18062 to 18063
    * Linux time range: 1518114380 to 1518119853
    * Human readible time range: 2018-02-08 18:26:20 to 2018-02-08 19:57:33
    * Exposure 300 s, Fullres
  * Polar belts scanning 1
    * Image range: 18064 to 18074
    * Linux time range: 1518378628 to 1518460998
    * Human readible time range: 2018-02-11 19:50:28 to 2018-02-12 18:43:18
  * Dosimetry 26
    * Image range: 18075 to 18448
    * Linux time range: 1518592658 to 1518812655
    * Human readible time range: 2018-02-14 07:17:38 to 2018-02-16 20:24:15
    * Exposure 0.05 s every 1 minute, Binning16+histograms
  * XRB co-measurement 4
    * Image range: 18449 to 18450
    * Linux time range: 1518818902 to 1518853983
    * Human readible time range: 2018-02-16 22:08:22 to 2018-02-17 07:53:03
    * Exposure 300 s, Fullres
  * Polar belts scanning 2
    * Image range: 18452 to 18463
    * Linux time range: 1519068918 to 1519119998
    * Human readible time range: 2018-02-19 19:35:18 to 2018-02-20 09:46:38
  * Dosimetry 27
    * Image range: 18464 to 19408
    * Linux time range: 1519861904 to 1519948175
    * Human readible time range: 2018-02-28 23:51:44 to 2018-03-01 23:49:35
    * Exposure 0.05 s every 1 minute, Binning16+histograms
  * Polar belts scanning 3
    * Image range: 19412 to 19438
    * Linux time range: 1520193718 to 1520540058
    * Human readible time range: 2018-03-04 20:01:58 to 2018-03-08 20:14:18
  * XRB co-measurement 5
    * Image range: 19439 to 19441
    * Linux time range: 
    * Human readible time range: 
    * Exposure 60 s, Fullres
  * Combined belt+anomaly scanning 1
    * Image range: 19445 to 19522
    * Linux time range: 
    * Human readible time range: 
  * Dosimetry 28
    * Image range: 19523 to 20529
    * Linux time range: 
    * Human readible time range: 
    * Exposure 0.05 s every 1 minute, Binning16+histograms
  * XRB co-measurement 6
    * Image range: 20531 to 20550
    * Linux time range: 
    * Human readible time range: 
    * Exposure 60 s, Fullres

# Installation

## Prerequisities

Running the **decoder** on Linux requires installing python libraries on both Linux and Windows.
Thought, it is much easier to run it on Linux...
Follow these instructions:

### Linux

Install python and matplotlib by running:

```bash
sudo apt-get install python2.7-dev python-matplotlib python3-pip python3-tk python-pmw python-pip python-mpltoolkits.basemap python3-mpltoolkits.basemap python-scipy
```

### Windows

1. Install the latest Python3 from the website: https://www.python.org/downloads/
 
If you want to have a TwoLineElements+Globus, follow the next three bullet points, otherwise skip to the point 2 and disable the globus feature in _settings.txt_. Following bullet points may take very long time on Windows...

- Install Visual C++ Build tools 2015 from: http://landinghub.visualstudio.com/visual-cpp-build-tools
- Install Anaconda: https://repo.continuum.io/archive/Anaconda3-4.4.0-Windows-x86_64.exe
- Run Anaconda Prompt (Start menu->Anaconda Prompt) and input following command to the command line: ```conda install -c conda-forge basemap```
 
2. Run "run_as_admin.bat" script as Administrator (right click on it and click on "Run as administrator").
Doing this is neccessary just for the first time (it installs required library).
After that, double-clicking decoder.py should be sufficient.

## Running the decoder

## Linux

Open a Terminal window and run followoing command in the directory of the decoder:

```bash
python decoder.py
```

It might be neccessary to re-run the program multiple times, before it correctly loads its libraries for the first time.

## Windows

Doubleclick the **decoder.py** file.

It might be neccessary to re-run the program multiple times, before it correctly loads its libraries for the first time.

